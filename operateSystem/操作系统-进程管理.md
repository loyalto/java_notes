## 进程和线程之间有什么区别？
- 进程：资源分配的基本单位。进程控制块（Process Control Block,PCB）描述进程的基本信息与运行状态，进程的创建撤销都是对 PCB 的操作
- 线程：独立调度的基本单位。一个进程中可以多个线程，它们共享进程资源
- 区别：
  1. 资源分配：进程是资源分配的基本单位，线程本生不拥有资源，它可以访问所属进程的资源
  2. 调度：线程是调度的基本单位，进程内的线程切换不会引起进程切换，不同进程的线程切换会引起进程切换
  3. 系统开销：进程开销远大于线程。创建销毁时，进程涉及资源分配回收如内存空间、IO 设备等。切换时，进程涉及 CPU 环境设置，线程只涉及少量寄存器内容
  4. 通信：线程可以直接使用进程内空间数据通信，进程需要借助进程间通信（Inter-Process Communication，IPC）
## 进程间有哪些通信方式？
- 管道：半双工通信，分为匿名管道与命名管道，匿名管道只能在父子进程或兄弟进程之间通信，命名管道进程都可以通信
- 消息队列：存放在内核中的消息链表，由消息队列标识符标识，相比管道，有选择的接收消息，独立读写进程存在
- 信号量：计数器，用于多个进程对共享变量的访问
- 共享存储：多个进程共享给定的内存存储区，速度最快，通常和信号量结合使用
- Socket：可用于不同机器间的进程通信
## Linux 进程调度中有哪些常见算法以及策略？
- 批处理系统：操作较少，保证吞吐量和周转时间（提交到终止时间）
  - 先来先服务（First Come First Served，FCFS）：非抢占式，按照请求顺序进行调度
  - 短作业优先（Shortest Job First，SJF）：非抢占式，运行时间最短的最先调度
  - 最短剩余时间优先（Shortest Remaining Time Next，SRTN）：抢占式，新来一个进程时，整体运行时间与当前进程的剩余时间作比较，短的处理，长的挂起，其余与短作业优先一样
- 交互系统：操作较多，快速的进行响应
  - 时间片轮转：FCFS组成队列，每个任务执行一个时间片，执行后移动到队列末尾
  - 优先级调度：每个进程分配一个优先级，按优先级调度。随着进程等待时间增长，可提高进程优先级，避免低优先级线程不会执行
  - 多级反馈队列：设置多个队列，越前面队列优先级越高，越后面的队列时间片越长，一个进程在前一队列没执行完移动到下一队列。相当于时间片和优先级的结合
- 实时系统：确定时间内得到响应
  - 硬实时：在指定时间前完成
  - 软实时：尽量在指定时间前完成，一定的超时

linux 默认使用的算法是循环时间共享，每个进程轮流使用CPU ，每个进程都可以使用CPU（nice值影响CPU 时间分配的多少） ，使用CPU 之前无需等待很长时间。
两个实时调度策略为SCHED_RR 循环策略，与默认的不同的是有严格的优先级区分，优先级组共享CPU 时间。SCHED_FIFO 先入先出，先获取到CPU的进程执行完后才执行下一个进程。
## 线程间有哪些通信方式？
- 共享变量
- 进程的通信也可以用于线程的通信

## 进程有多少种状态？
- 就绪：已获得除处理机以外的所需资源，等待分配处理机资源
- 运行：占用处理机资源运行
- 阻塞：等待某种条件，条件满足前无法执行

## 进程空间从高位到低位都有些什么？
- 内核空间
- 栈
- 堆
- 未初始化数据
- 初始化数据
- 程序段
## 进程通信中的管道实现原理是什么？
内核缓冲区，通过返回两个 fd ，fd[0] 用于读，fd[1] 用于写，两个fd都指向同一索引节点，进而实现进程通信

## 什么情况下，进程会进行切换？
1. CPU 进程调度进行切换
2. 硬件中断
3. 资源不足时（如内存不足），会挂起进程，等待资源满足后运行
4. 进程阻塞或自己让出CPU
5. 高优先级进程抢占

## 参考
[CS-Notes](https://github.com/CyC2018/CS-Notes)

